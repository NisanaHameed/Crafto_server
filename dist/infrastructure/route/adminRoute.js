"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const adminRepository_1 = __importDefault(require("../repository/adminRepository"));
const adminUsecase_1 = __importDefault(require("../../use_case/adminUsecase"));
const adminController_1 = __importDefault(require("../../adaptors/controllers/adminController"));
const jwt_1 = __importDefault(require("../utils/jwt"));
const hashPassword_1 = __importDefault(require("../utils/hashPassword"));
const adminAuth_1 = __importDefault(require("../middleware/adminAuth"));
const cloudinary_1 = __importDefault(require("../utils/cloudinary"));
const multer_1 = require("../middleware/multer");
const stripe_1 = __importDefault(require("../utils/stripe"));
const jwt = new jwt_1.default();
const hash = new hashPassword_1.default();
const cloudinary = new cloudinary_1.default();
const stripe = new stripe_1.default();
const repository = new adminRepository_1.default();
const useCase = new adminUsecase_1.default(repository, jwt, hash, cloudinary, stripe);
const controller = new adminController_1.default(useCase);
const router = express_1.default.Router();
router.post('/login', (req, res) => controller.login(req, res));
router.get('/dashboard', adminAuth_1.default, (req, res) => controller.getDashboard(req, res));
router.get('/users', adminAuth_1.default, (req, res) => controller.getUsers(req, res));
router.post('/blockUser/:id', adminAuth_1.default, (req, res) => controller.blockUser(req, res));
router.get('/professionals', (req, res) => controller.getProfessionals(req, res));
router.post('/blockProfessional/:id', adminAuth_1.default, (req, res) => controller.blockProfessional(req, res));
router.get('/category', (req, res) => controller.getCategory(req, res));
router.post('/addCategory', multer_1.uploadFile.single('image'), (req, res) => controller.addCategory(req, res));
router.put('/editCategory', multer_1.uploadFile.single('image'), (req, res) => controller.editCategory(req, res));
router.get('/jobrole', (req, res) => controller.getJobrole(req, res));
router.post('/addJobrole', (req, res) => controller.addJobrole(req, res));
router.delete('/deleteJobrole/:id', adminAuth_1.default, (req, res) => controller.deleteJobrole(req, res));
router.put('/editJobrole', adminAuth_1.default, (req, res) => controller.editJobrole(req, res));
router.get('/subscriptions', adminAuth_1.default, (req, res) => controller.getSubscriptions(req, res));
router.get('/subscriptionDetails/:id', (req, res) => controller.getASubscription(req, res));
router.get('/logout', (req, res) => controller.logout(req, res));
exports.default = router;
